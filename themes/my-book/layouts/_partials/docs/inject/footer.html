{{ $currentPage := . }} {{ $section := .Section }}

<div class="book-custom-footer">
  {{ if eq $section "效法基督" }} {{ $allPagesByWeight :=
  .CurrentSection.Pages.ByWeight }} {{ $prev10WeightPage := "" }} {{
  $next10WeightPage := "" }} {{ range $allPagesByWeight }} {{ if eq .Weight (sub
  $currentPage.Weight 10) }} {{ $prev10WeightPage = . }} {{ end }} {{ if eq
  .Weight (add $currentPage.Weight 10) }} {{ $next10WeightPage = . }} {{ end }}
  {{ end }}

  <div class="book-pagination">
    {{ with $prev10WeightPage }}
    <a href="{{ .RelPermalink }}" class="book-prev">
      <span>←</span>
      <span>{{ .Title }}</span>
    </a>
    {{ end }} {{ if $next10WeightPage }}
    <a href="{{ $next10WeightPage.RelPermalink }}" class="book-next">
      <span>{{ $next10WeightPage.Title }}</span>
      <span>→</span>
    </a>
    {{ else if .Params.footer_button }}
    <a href="{{ .Params.footer_button.href }}" class="book-next">
      <span>{{ .Params.footer_button.text }}</span>
      <span>→</span>
    </a>
    {{ end }}
  </div>

  {{ else }} {{ $pages := .CurrentSection.Pages.ByWeight.Reverse }}
  <div class="book-pagination">
    {{ with $pages.Prev . }}
    <a href="{{ .RelPermalink }}" class="book-prev">
      <span>←</span>
      <span>{{ .Title }}</span>
    </a>
    {{ end }} {{ with $pages.Next . }}
    <a href="{{ .RelPermalink }}" class="book-next">
      <span>{{ .Title }}</span>
      <span>→</span>
    </a>
    {{ end }}
  </div>
  {{ end }}

  <div class="book-footer-info">
    <p>&copy; {{ now.Format "2006" }} 香草山. All rights reserved.</p>
  </div>
</div>
