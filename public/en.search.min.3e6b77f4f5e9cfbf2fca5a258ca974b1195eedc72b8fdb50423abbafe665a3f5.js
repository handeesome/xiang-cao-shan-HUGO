"use strict";(function(){const a="/en.search-data.min.6a06e8ac9c9eb06a72781f98e7a4a33be5757b0d7b239ec7b137a7f757b49432.json",r=Object.assign({cache:!0},{includeScore:!0,useExtendedSearch:!0,fieldNormWeight:1.5,threshold:.2,ignoreLocation:!0,keys:[{name:"title",weight:.7},{name:"content",weight:.3}]}),e=document.querySelector("#book-search-input"),t=document.querySelector("#book-search-results");if(!e)return;const n=e.getAttribute("data-section")||"";e.addEventListener("focus",s),e.addEventListener("keyup",o),document.addEventListener("keypress",c);function c(t){if(t.target.value!==0[0])return;if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!l(n))return;e.focus(),t.preventDefault()}function l(t){const n=e.getAttribute("data-hotkeys")||"";return n.indexOf(t)>=0}function s(){e.removeEventListener("focus",s),e.required=!0,fetch(a).then(e=>e.json()).then(e=>{let t=e;n&&(t=e.filter(e=>e.section===n)),window.bookSearchIndex=new Fuse(t,r)}).then(()=>e.required=!1).then(o)}function o(){for(;t.firstChild;)t.removeChild(t.firstChild);if(!e.value)return;const s=window.bookSearchIndex.search(e.value).slice(0,10);if(s.length===0){const e=i('<li class="no-results"></li>');e.textContent=`No results found${n?` in ${n}`:""}`,t.appendChild(e);return}s.forEach(function(e){const s=i("<li><a href></a><small></small></li>"),o=s.querySelector("a"),a=s.querySelector("small");o.href=e.item.href,o.textContent=e.item.title,!n&&e.item.section?a.textContent=e.item.section:a.style.display="none",t.appendChild(s)})}function i(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild}})()